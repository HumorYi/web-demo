{"version":3,"sources":["webpack:///webpack/bootstrap 6de68ab992301aa3f986","webpack:///./js/core/toolkit.js","webpack:///./js/index.js","webpack:///./js/ui/grid.js","webpack:///./js/core/suduku.js","webpack:///./js/core/generator.js","webpack:///./js/core/checker.js","webpack:///./js/ui/popupNumbers.js"],"names":["matrixToolkit","rowLen","colLen","boxLen","cellLen","makeRow","v","array","Array","fill","makeMatrix","from","length","shuffle","arrLen","endIndex","i","j","Math","floor","random","checkFillable","matrix","n","rowIndex","colIndex","row","col","map","boxToolkit","convertToBoxIndex","boxIndex","box","getBoxCells","indexOf","startRowIndex","startColIndex","result","cellIndex","push","convertFromBoxIndex","Toolkit","module","exports","Grid","require","PopupNumbers","grid","$","build","layout","popupNumbers","bindPopup","on","check","alert","reset","clear","rebuild","Suduku","Checker","container","_$container","suduku","make","puzzleMatrix","rowGroupClasses","colGroupClasses","$cells","rowValues","cellValue","addClass","text","$divArray","$spanArray","append","width","height","css","data","children","div","span","parseInt","toArray","$data","checker","marks","matrixMarks","each","$span","cell","is","hasClass","removeClass","find","empty","popupNumber","$cell","e","target","popup","Generator","generator","generate","solutionMatrix","level","internalGenerate","console","log","orders","fillNumber","fillRow","preRowIndex","fillColIndex","tool_matrix","checkArray","len","_matrix","_matrixMarks","checkRows","checkCols","checkBoxes","_success","every","mark","cols","boxes","$panel","hide","_$targetCell","position","left","top","show"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6de68ab992301aa3f986","/**\r\n * @desc 矩阵数组相关\r\n * */\r\nconst matrixToolkit = {\r\n    rowLen: 9,\r\n    colLen: 9,\r\n    boxLen: 9,\r\n    cellLen: 9,\r\n\r\n    /**\r\n     * @desc 制作行数组\r\n     *\r\n     * @param v {Number} (可选) 数组元素初始值 default: 0\r\n     *\r\n     * @return array {Array}\r\n     * */\r\n    makeRow(v = 0) {\r\n        const array = new Array(matrixToolkit.colLen);\r\n        // 把array中的每个值都赋值为 v\r\n        array.fill(v);\r\n\r\n        return array;\r\n    },\r\n\r\n    /**\r\n     * @desc 制作矩阵数组\r\n     *\r\n     * @param v {Number} (可选) 数组元素初始值 default: 0\r\n     *\r\n     * @return array {Array}\r\n     * */\r\n    makeMatrix(v = 0) {\r\n        /**\r\n         * 网址：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from\r\n         * Array.from() 方法从一个类似数组或可迭代对象中创建一个新的数组实例。\r\n         * Array.from(arrayLike, mapFn, thisArg)\r\n         参数\r\n         arrayLike\r\n         想要转换成数组的伪数组对象或可迭代对象。\r\n         mapFn (可选参数)\r\n         如果指定了该参数，新数组中的每个元素会执行该回调函数。\r\n         thisArg (可选参数)\r\n         可选参数，执行回调函数 mapFn 时 this 对象。\r\n         返回值\r\n         一个新的数组实例\r\n\r\n         { length: rowLen } === new Array(rowLen)\r\n         */\r\n        return Array.from({length: matrixToolkit.rowLen}, () => matrixToolkit.makeRow(v));\r\n    },\r\n\r\n    /**\r\n     * Fisher-Yetes 算法\r\n     * 随机置乱算法也被称做高纳德置乱算法,通俗说就是生成一个有限集合的随机排列\r\n     *\r\n     * 从0位置开始，在当前列随机找一个值与当前元素值，如果与当前值相等，则不替换，否则互换双方的值\r\n     * --> 直到导数第二行，最后一行是不需要比较的\r\n     */\r\n    shuffle(array) {\r\n        const arrLen = array.length;\r\n        const endIndex = arrLen - 2;\r\n        for (let i = 0; i <= endIndex; i++) {\r\n            const j = Math.floor(Math.random() * (arrLen - i));\r\n\r\n            if (array[i] === array[j]) {\r\n                continue;\r\n            }\r\n\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        }\r\n\r\n        return array;\r\n    },\r\n\r\n    /**\r\n     * @des 检查指定位置可填写数字\r\n     *\r\n     *\r\n     * */\r\n    checkFillable(matrix, n, rowIndex, colIndex) {\r\n        const row = matrix[rowIndex];\r\n        const col = this.makeRow().map((v, i) => matrix[i][colIndex]);\r\n        const {boxIndex} = boxToolkit.convertToBoxIndex(rowIndex, colIndex);\r\n        const box = boxToolkit.getBoxCells(matrix, boxIndex);\r\n\r\n        /*for (let i=0; i<matrix.rowLen; i++) {\r\n            if(\r\n                row[i] === n\r\n                || col[i] === n\r\n                || box[i] === n\r\n            ){\r\n                return false;\r\n            }\r\n        }*/\r\n\r\n        // method 2\r\n        if(\r\n            row.indexOf(n) !== -1\r\n            || col.indexOf(n) !== -1\r\n            || box.indexOf(n) !== -1\r\n        ){\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n};\r\n\r\n/**\r\n * @desc 宫坐标系工具\r\n * */\r\nconst boxToolkit = {\r\n\r\n    /**\r\n     * @desc 获取当前宮内每一格的值\r\n     *\r\n     * @return Array {Array}\r\n     * */\r\n    getBoxCells(matrix, boxIndex) {\r\n        // 当页面格局从全局宮转为全局格时，等于横向和纵向都缩小了3倍\r\n        const startRowIndex = Math.floor(boxIndex / 3) * 3;\r\n        const startColIndex = boxIndex % 3 * 3;\r\n        const result = [];\r\n\r\n        for (let cellIndex = 0; cellIndex < matrixToolkit.colLen; cellIndex++) {\r\n            const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\r\n            const colIndex = startColIndex + cellIndex % 3;\r\n\r\n            result.push(matrix[rowIndex][colIndex]);\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * @desc 注意：要定义一个格式的位置，必须要有横坐标和纵坐标才可确定。\r\n     *\r\n     * 注意全局格，宮，宫内格之间 格局的联系\r\n     *  1、全局格是：9 * 9,   （0~8，0~8）\r\n     *  2、全局宮是：3 * 3\r\n     *  3、宫内格是：3 * 3\r\n     *\r\n     *  其实这三者之间的布局联系紧密，\r\n     *      全局宮和宫内格布局一样，而全局格与前两者之间有倍数（3）联系\r\n     *\r\n     *      全局宮和宫内格布局:\r\n     *      （\r\n     *          横向：\r\n     *              1、0~2\r\n     *              2、3~5\r\n     *              3、6~8\r\n     *\r\n     *              x * 1\r\n     *          纵向：\r\n     *              1、0~3~6\r\n     *              2、1~4~7\r\n     *              3、2~5~8\r\n     *\r\n     *              y * 3\r\n     *\r\n     *          可以发现刚好都与3有关，\r\n     *              x % 3 可以得到 宫内格 在 当前宮 中的横坐标\r\n     *              Math.floor(y / 3) * 3 可以得到 宫内格 在 当前宮 中的纵坐标\r\n     *\r\n     *              刚好又发现：横坐标 + 纵坐标 = 宫内格序号;\r\n     *\r\n     *\r\n     * 参数解析：\r\n     *    rowIndex: 全局行位置，\r\n     *    colIndex: 全局列位置，\r\n     *    boxIndex: 当前宮位置，\r\n     *    cellIndex: 宮内格序号（0~8）\r\n     */\r\n\r\n    // 把行坐标和列坐标 转变为 宮位置和宫内格序号\r\n    convertToBoxIndex(rowIndex, colIndex) {\r\n        return {\r\n            /**\r\n             * @desc 获取当前宮位置\r\n             *       1、当页面格局从全局格转为全局宮时，等于横向和纵向都放大了3倍\r\n             *       2、全局宮之间纵坐标的差异为：0~3~6\r\n             *       3、全局宮之间横坐标的差异为：0~2\r\n             */\r\n            boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\r\n            /**\r\n             * @desc 获取宫内序号\r\n             *       1、全局格坐标（x: 0~8, y: 0~8）先转为全局宮坐标（x: 0~2, y: 0~2）\r\n             *       2、全局宮内格纵坐标之间的差异为：0~3~6\r\n             *       3、全局宮内格横坐标之间的差异为：0~2\r\n             *       4、宫内格序号：（row: 0~2, col: 0~2, i: { row: 0~3~6, col: 0~2 }）\r\n             */\r\n            cellIndex: rowIndex % 3 * 3 + colIndex % 3\r\n        }\r\n    },\r\n\r\n    // 把宮位置和宫内格序号 转变为 行坐标和列坐标\r\n    convertFromBoxIndex(boxIndex, cellIndex) {\r\n        // 获取当前宮在全局宮中的起始坐标，再加上当前格偏移起始坐标之间的差值，得到全局格的 横、纵坐标\r\n        return {\r\n            /**\r\n             * @desc 获取当前格列在全局格中的列坐标\r\n             *       1、当页面格局从全局宮转为全局格时，等于横向和纵向都缩小了3倍\r\n             *       2、一个宮内有3行3列宫内格，全局宮一行有3个宮，\r\n             *        当前行宮与宮间隔为：0~2~5~8\r\n             *       3、宫内序号列之间的差异为：0~2\r\n             *\r\n             *       4、boxIndex % 3 * 3 可获取到横坐标之间 当前宮 距离 全局格（初始坐标（0，0））之间的 横向距离\r\n             *       5、cellIndex % 3 可获取 当前格 在 当前宮 内的横向距离\r\n             */\r\n            colIndex: boxIndex % 3 * 3 + cellIndex % 3,\r\n            /**\r\n             *  @desc 获取当前格列在全局格中的行坐标\r\n             *       1、当页面格局从全局宮转为全局格时，等于横向和纵向都缩小了3倍\r\n             *       2、全局宮每行宮之间纵坐标的差异为：0~2~5~8\r\n             *       3、全局宮之间横坐标的差异为：0~2\r\n             *\r\n             *       4、Math.floor(boxIndex / 3) * 3 当前宮 距离 全局格（初始坐标（0，0））之间的 纵向距离\r\n             *       5、Math.floor(cellIndex / 可获取 当前格 在 当前宮 内的纵向距离\r\n             */\r\n            rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3)\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * @desc 工具集\r\n * */\r\nclass Toolkit {\r\n    /**\r\n     * 矩阵数组相关的工具\r\n     * */\r\n    static get matrix() {\r\n        return matrixToolkit;\r\n    }\r\n\r\n    /**\r\n     * 宫坐标系的相关工具\r\n     * */\r\n    static get box() {\r\n        return boxToolkit;\r\n    }\r\n}\r\n\r\nmodule.exports = Toolkit;\n\n\n// WEBPACK FOOTER //\n// ./js/core/toolkit.js","const Grid = require(\"./ui/grid\");\r\nconst PopupNumbers = require('./ui/popupNumbers');\r\n\r\nconst grid = new Grid($(\"#container\"));\r\ngrid.build();\r\ngrid.layout();\r\n\r\nconst popupNumbers = new PopupNumbers($(\"#popupNumbers\"));\r\ngrid.bindPopup(popupNumbers);\r\n\r\n$(\"#check\").on(\"click\", e =>{\r\n    if(grid.check() === true){\r\n        alert(\"success\");\r\n        return\r\n    }\r\n\r\n    alert(\"failed\");\r\n});\r\n\r\n$(\"#reset\").on(\"click\", e =>{\r\n    grid.reset();\r\n});\r\n$(\"#clear\").on(\"click\", e =>{\r\n    grid.clear();\r\n});\r\n\r\n$(\"#rebuild\").on(\"click\", e =>{\r\n    grid.rebuild();\r\n});\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","/**\r\n *  create by jianyi on 2017/12/18.\r\n */\r\n\r\n/**\r\n * 生成九宫格\r\n */\r\n// const Generator = require(\"../core/generator\");\r\nconst Suduku = require('../core/suduku');\r\nconst Checker = require(\"../core/checker\");\r\n\r\nclass Grid {\r\n    constructor(container) {\r\n        this._$container = container;\r\n    }\r\n\r\n    build() {\r\n        const suduku = new Suduku();\r\n        suduku.make();\r\n        const matrix = suduku.puzzleMatrix;\r\n\r\n        const rowGroupClasses = [\"row_g_top\", \"row_g_middle\", \"row_g_bottom\"];\r\n        const colGroupClasses = [\"col_g_left\", \"col_g_center\", \"col_g_right\"];\r\n\r\n        // 为矩阵中每列添加一个 span标签\r\n        const $cells = matrix.map(rowValues => rowValues\r\n            .map((cellValue, colIndex) => {\r\n                return $(\"<span>\")\r\n                    .addClass(colGroupClasses[colIndex % 3])\r\n                    .addClass(cellValue === 0 ? \"empty\" : \"fixed\")\r\n                    .text(cellValue);\r\n            }));\r\n\r\n        // 为矩阵中的每行添加一个 div标签\r\n        const $divArray = $cells.map(($spanArray, rowIndex) => {\r\n            return $(\"<div>\")\r\n                .addClass(\"row\")\r\n                .addClass(rowGroupClasses[rowIndex % 3])\r\n                .append($spanArray);\r\n        });\r\n\r\n        // 把矩阵添加到面板中去\r\n        this._$container.append($divArray);\r\n    }\r\n\r\n    // 布局表格大小\r\n    layout() {\r\n        const width = $(\"span:first\", this._$container).width();\r\n\r\n        $(\"span\", this._$container)\r\n            .height(width)\r\n            .css({\r\n                \"line-height\": `${width}px`,\r\n                \"font-size\": width < 32 ? `${width / 2}px` : \"\"\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @desc 检查用户迷盘数据是否正确，错误的显示错误标记\r\n     * */\r\n    check() {\r\n        // 获取需要检查的数据\r\n\r\n        // 这里可结合数字弹窗面板对span文本做一些处理，避免显示 0 的问题\r\n        const data =\r\n            this._$container.children()\r\n                .map((rowIndex, div) => {\r\n\r\n                    return $(div).children()\r\n                        .map((colIndex, span) => {\r\n                            return parseInt($(span).text()) || 0;\r\n                        });\r\n                })\r\n                .toArray()\r\n                .map($data => $data.toArray());\r\n\r\n        const checker = new Checker(data);\r\n\r\n        if (checker.check() === true) {\r\n            return true;\r\n        }\r\n\r\n        const marks = checker.matrixMarks;\r\n\r\n        // 找到有错误标记的那些格，在页面上显示\r\n        this._$container.children()\r\n            .each((rowIndex, div) => {\r\n                $(div).children().each((colIndex, span) => {\r\n                    const $span = $(span);\r\n                    const cell = marks[rowIndex][colIndex];\r\n\r\n                    if ($span.is(\".fixed\")) {\r\n                        return;\r\n                    }\r\n\r\n                    if (cell === true) {\r\n                        if ($span.hasClass(\"error\") === true) {\r\n                            $span.removeClass(\"error\");\r\n                        }\r\n\r\n                        return;\r\n                    }\r\n\r\n                    if ($span.hasClass(\"error\") === false) {\r\n                        $span.addClass(\"error\");\r\n                    }\r\n                });\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @desc 重置当前游戏迷盘至初始状态\r\n     * */\r\n    reset() {\r\n        this._$container.find(\"span:not(.fixed)\")\r\n            .removeClass(\"error mark1 mark3\")\r\n            .addClass(\"empty\")\r\n            .text(0);\r\n    }\r\n\r\n    clear() {\r\n        this._$container.find(\"span.error\")\r\n            .removeClass(\"error mark1 mark3\")\r\n            .addClass(\"empty\")\r\n            .text(0);\r\n    }\r\n\r\n    rebuild() {\r\n        this._$container.empty();\r\n        this.build();\r\n        this.layout();\r\n    }\r\n\r\n    bindPopup(popupNumber) {\r\n        this._$container.on(\"click\", \"span\", e => {\r\n            const $cell = $(e.target);\r\n\r\n            popupNumber.popup($cell);\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = Grid;\n\n\n// WEBPACK FOOTER //\n// ./js/ui/grid.js","/**\r\n *  create by jianyi on 2017/12/18.\r\n */\r\n\r\n/**\r\n * @desc 生成数独游戏\r\n */\r\n\r\n// 1、 生成完成的解决方案，Generator\r\n// 2、 随机去除部分数据：按比例\r\n\r\nconst Generator = require('./generator');\r\n\r\nclass Suduku {\r\n\r\n    constructor() {\r\n        // 生成完成的解决方案\r\n        const generator = new Generator();\r\n        generator.generate();\r\n        this.solutionMatrix = generator.matrix;\r\n    }\r\n\r\n    make(level = 5) {\r\n        // 生成迷盘\r\n        this.puzzleMatrix = this.solutionMatrix.map(row => {\r\n            return row.map(cell => Math.random() * 9 < level ? 0 : cell);\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = Suduku;\n\n\n// WEBPACK FOOTER //\n// ./js/core/suduku.js","/**\r\n *  create by jianyi on 2017/12/18.\r\n */\r\n\r\n/**\r\n * 生成数独解决方案\r\n * */\r\n\r\nconst Toolkit = require('./toolkit');\r\nconst matrix = Toolkit.matrix;\r\nconst rowLen = matrix.rowLen;\r\nconst cellLen = matrix.colLen;\r\n\r\nclass Generator {\r\n\r\n    generate() {\r\n        while (this.internalGenerate() === false) {\r\n            console.log(\"try again\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 生成数独数据\r\n     * */\r\n    internalGenerate() {\r\n        // TODO 入口方法\r\n\r\n        // 生成矩阵\r\n        this.matrix = matrix.makeMatrix();\r\n\r\n        // 初始生成一个有序的且随机的数组\r\n        this.orders = matrix.makeMatrix()\r\n            .map(row => row.map((v, i) => i))\r\n            .map(row => matrix.shuffle(row));\r\n\r\n        // 循环检查每一行\r\n        for (let n = 1; n <= rowLen; n++) {\r\n            if (this.fillNumber(n) === false) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n\r\n        // return matrix.makeRow().every(n);\r\n    }\r\n\r\n    /**\r\n     * @desc 填充数字\r\n     *\r\n     * @param n {Number}\r\n     * */\r\n    fillNumber(n) {\r\n        return this.fillRow(n, 0);\r\n    }\r\n\r\n    /**\r\n     * 为每行中的某列填充数据\r\n     * */\r\n    fillRow(n, rowIndex) {\r\n        // 递归调用 8行\r\n        if (rowIndex > 8) {\r\n            return true;\r\n        }\r\n\r\n        // 获取当前行数据\r\n        const row = this.matrix[rowIndex];\r\n        const orders = this.orders[rowIndex];\r\n\r\n        // TODO 随机选择列，且是有序的，才能在递归中顺序进行\r\n        for (let i = 0; i < cellLen; i++) {\r\n            // 获取orders中一个有序的序号\r\n            const colIndex = orders[i];\r\n\r\n            // 已填充过数据（初始数组时，默认所有值为0）\r\n            if (row[colIndex] !== 0) {\r\n                continue;\r\n            }\r\n\r\n            // 检查该位置是否可填数字 （除了当前行、列、宮）\r\n            if (matrix.checkFillable(this.matrix, n, rowIndex, colIndex) === false) {\r\n                continue;\r\n            }\r\n\r\n            // 给当前行下的当前列 填充数字\r\n            row[colIndex] = n;\r\n\r\n            // 当前行填写 n 成功，递归调用 fillRow() 来在下一行中 填写 n，如果没填进去，就继续寻找当前行下一个位置\r\n            if (this.fillRow(n, rowIndex + 1) === false) {\r\n                // 上一行坐标\r\n                const preRowIndex = rowIndex;\r\n                const fillColIndex = colIndex;\r\n                // 恢复上一行当前列填写的数据为0（初始值）\r\n                this.matrix[preRowIndex][fillColIndex] = 0;\r\n                continue;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nmodule.exports = Generator;\n\n\n// WEBPACK FOOTER //\n// ./js/core/generator.js","/**\r\n *  create by jianyi on 2017/12/18.\r\n */\r\nconst Toolkit = require('./toolkit');\r\nconst tool_matrix = Toolkit.matrix;\r\nconst rowLen = tool_matrix.rowLen;\r\n\r\n/**\r\n * @desc 检查数独解决方案\r\n *\r\n * @param array {Array} 进行检查的 数组\r\n *\r\n * @return marks {Array} 检查过后数组的结果标记\r\n */\r\nfunction checkArray(array) {\r\n    const len = array.length;\r\n    const marks = new Array(len);\r\n    // 默认都是成功的\r\n    marks.fill(true);\r\n\r\n    for (let i = 0; i < len - 1; i++) {\r\n        // 对已经为false的数据进行过滤\r\n        if (marks[i] === false) {\r\n            continue;\r\n        }\r\n\r\n        let v = array[i];\r\n\r\n        // 是否有效 0 -> 无效 , 1~9 -> 有效\r\n        if (v === 0) {\r\n            marks[i] = false;\r\n            continue;\r\n        }\r\n\r\n        // i+1 ~ 9 位置的数据 是否和 i 位置的数据 重复\r\n        for (let j = i + 1; j < len; j++) {\r\n\r\n            if (v === array[j]) {\r\n                marks[i] = marks[j] = false;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    return marks;\r\n}\r\n\r\n/**\r\n * 1、输入：matrix, 用户完成的数独数据 9 * 9\r\n * 2、处理：对matrix 行、列、宮 进行检查，并填写 marks\r\n * 3、输出：检查是否成功、marks\r\n * */\r\nclass Checker {\r\n\r\n    constructor(matrix) {\r\n        this._matrix = matrix;\r\n        this._matrixMarks = tool_matrix.makeMatrix(true);\r\n    }\r\n\r\n    get matrixMarks() {\r\n        return this._matrixMarks;\r\n    }\r\n\r\n    get isSuccess() {\r\n        return this._success;\r\n    }\r\n\r\n    check() {\r\n        this.checkRows();\r\n        this.checkCols();\r\n        this.checkBoxes();\r\n\r\n        // 检查标记\r\n        this._success = this._matrixMarks.every(row => row.every(mark => mark === true));\r\n\r\n        return this._success;\r\n    }\r\n\r\n    checkRows() {\r\n        for (let rowIndex = 0; rowIndex < rowLen; rowIndex++) {\r\n            // 检查当前行\r\n            const row = this._matrix[rowIndex];\r\n            const marks = checkArray(row);\r\n\r\n            // 遍历当前标记数组，找到 错误标记 的那一列，把当前行下的当前列的 错误标记 同步到 错误标记矩阵中\r\n            for (let colIndex = 0, len = marks.length; colIndex < len; colIndex++) {\r\n                if (marks[colIndex] === false) {\r\n                    this._matrixMarks[rowIndex][colIndex] = false;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    checkCols() {\r\n        const colLen = tool_matrix.colLen;\r\n\r\n        for (let colIndex = 0; colIndex < colLen; colIndex++) {\r\n            // 按行号来遍历当前列下的所有行数据\r\n            const cols = [];\r\n\r\n            for (let rowIndex = 0; rowIndex < rowLen; rowIndex++) {\r\n                cols[rowIndex] = this._matrix[rowIndex][colIndex];\r\n            }\r\n\r\n            const marks = checkArray(cols);\r\n\r\n            for (let rowIndex = 0, len = marks.length; rowIndex < len; rowIndex++) {\r\n                if (marks[rowIndex] === false) {\r\n                    this._matrixMarks[rowIndex][colIndex] = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    checkBoxes() {\r\n        let box = Toolkit.box;\r\n        let boxLen = tool_matrix.boxLen;\r\n        let cellLen = tool_matrix.cellLen;\r\n\r\n        for (let boxIndex = 0; boxIndex < boxLen; boxIndex++) {\r\n            const boxes = box.getBoxCells(this._matrix, boxIndex);\r\n\r\n            const marks = checkArray(boxes);\r\n\r\n            for (let cellIndex = 0; cellIndex < cellLen; cellIndex++) {\r\n                if (marks[cellIndex] === false) {\r\n                    const {rowIndex, colIndex} = box.convertFromBoxIndex(boxIndex, cellIndex);\r\n                    this._matrixMarks[rowIndex][colIndex] = false;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = Checker;\n\n\n// WEBPACK FOOTER //\n// ./js/core/checker.js","/**\r\n *  create by jianyi on 2017/12/18.\r\n */\r\n\r\n/**\r\n * @desc 数字弹窗面版\r\n */\r\nclass PopupNumbers {\r\n\r\n    constructor($panel) {\r\n        this.$panel = $panel.hide().removeClass(\"hidden\");\r\n\r\n        this.$panel.on(\"click\", \"span\", e => {\r\n            const $cell = this._$targetCell;\r\n\r\n            const $span = $(e.target);\r\n\r\n            /*let spanText = $span.html();\r\n            console.log($span.html() === 0);\r\n            console.log(spanText);\r\n            if (spanText === 0) {\r\n\r\n                spanText = \"\";\r\n                console.log(spanText);\r\n            }*/\r\n\r\n            if ($span.hasClass(\"mark1\")) {\r\n                if ($cell.hasClass(\"mark3\")) {\r\n                    $cell.removeClass(\"mark3\");\r\n                }\r\n                else {\r\n                    $cell.removeClass(\"mark3\")\r\n                        .addClass(\"mark1\");\r\n                }\r\n            }\r\n            else if ($span.hasClass(\"mark3\")) {\r\n                if ($cell.hasClass(\"mark1\")) {\r\n                    $cell.removeClass(\"mark1\");\r\n                }\r\n                else {\r\n                    $cell.removeClass(\"mark1\")\r\n                        .addClass(\"mark3\");\r\n                }\r\n            }\r\n            else if ($span.hasClass(\"empty\")) {\r\n                $cell.text(0)\r\n                    .removeClass(\"mark1\")\r\n                    .removeClass(\"mark3\")\r\n                    .addClass(\"empty\");\r\n            }\r\n            else {\r\n                // 1~9 回填数字\r\n                $cell.removeClass(\"empty\")\r\n                    .text($span.text());\r\n            }\r\n\r\n            this.hide();\r\n        });\r\n    }\r\n\r\n    popup($cell) {\r\n        this._$targetCell = $cell;\r\n\r\n        const {left, top} = $cell.position();\r\n\r\n        this.$panel\r\n            .css({\r\n                \"left\": `${left}px`,\r\n                \"top\": `${top}px`\r\n            })\r\n            .show();\r\n    }\r\n\r\n    hide() {\r\n        this.$panel.hide();\r\n    }\r\n}\r\n\r\nmodule.exports = PopupNumbers;\n\n\n// WEBPACK FOOTER //\n// ./js/ui/popupNumbers.js"],"sourceRoot":""}